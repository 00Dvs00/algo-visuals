import{r as p,j as e}from"./index-DO2szRq0.js";import{c as N,S as M,L as j,a as P}from"./StepVisualization-BVFlbeNv.js";class z{constructor(){this.heap=[]}insert(t){t&&(this.heap.push(t),this._heapifyUp())}pop(){if(this.heap.length===0)return null;if(this.heap.length===1)return this.heap.pop();const t=this.heap[0];return this.heap[0]=this.heap.pop(),this._heapifyDown(),t}peek(){return this.heap.length>0?this.heap[0]:null}getHeap(){return[...this.heap]}_heapifyUp(){let t=this.heap.length-1;for(;t>0;){let s=Math.floor((t-1)/2);if(this.heap[s].val<=this.heap[t].val)break;[this.heap[s],this.heap[t]]=[this.heap[t],this.heap[s]],t=s}}_heapifyDown(){let t=0;const s=this.heap.length;for(;;){let a=t,c=2*t+1,o=2*t+2;if(c<s&&this.heap[c].val<this.heap[a].val&&(a=c),o<s&&this.heap[o].val<this.heap[a].val&&(a=o),a===t)break;[this.heap[a],this.heap[t]]=[this.heap[t],this.heap[a]],t=a}}}const v=()=>new z,E=()=>{const[g,t]=p.useState(""),[s,a]=p.useState(0),[c,o]=p.useState(!1),[w,x]=p.useState(1),[h,m]=p.useState([]),[S,b]=p.useState([]),f=p.useRef(v()),y=i=>{let l=0,n=new P;h.push({});for(let d=0;d<i.length;d++){const u=i[d];f.current.insert(u),u&&h.push({id:l++,list:u,highlightNodes:[0],pointers:{head:0},resultHead:n.next,heapSnapshot:f.current.getHeap().map(I=>I.val)})}return h},L=()=>{const i=g.split(",").map(n=>parseInt(n.trim())).filter(n=>!isNaN(n)),l=N(i);b(n=>{const d=[...n,l],u=y(d);return m(u),a(0),d}),x(n=>n+1),o(!1)},k=()=>{b([]),m([]),a(0),x(1),o(!1),f.current=v()},C=()=>{s<h.length-1&&a(s+1)},H=()=>{s>0&&a(s-1)},V=()=>{o(!0);const i=setInterval(()=>{a(l=>l>=h.length-1?(o(!1),clearInterval(i),l):l+1)},2e3)};p.useEffect(()=>{const i=[[1,4,5],[1,3,4],[2,6]],l=i.map(d=>N(d));b(l);const n=y(l);m(n),x(i.length+1),a(0)},[]);const r=h[s]||{};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-6",children:[e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:"Merge K Linked List Visualizer"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Watch how the algorithm merges K linked lists"})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:e.jsxs("div",{className:"flex flex-wrap items-center gap-4 justify-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Input Values:"}),e.jsx("input",{type:"text",value:g,onChange:i=>t(i.target.value),placeholder:"Enter comma-separated values",className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all duration-200 w-64"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:L,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 font-medium",children:["Create List ",`${w}`]}),e.jsx("button",{onClick:k,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors duration-200 font-medium",children:"Delete All Lists"}),e.jsx("button",{onClick:H,disabled:s===0,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors duration-200 font-medium",children:"Previous"}),e.jsx("button",{onClick:C,disabled:s>=h.length-1,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors duration-200 font-medium",children:"Next"}),e.jsx("button",{onClick:V,disabled:c,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:bg-green-300 disabled:cursor-not-allowed transition-colors duration-200 font-medium",children:c?"Playing...":"Play Animation"})]})]})}),e.jsx(M,{currentStep:s,steps:h,currentStepData:r}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[e.jsx("h4",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Linked List Visualization"}),e.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:S.map((i,l)=>e.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:e.jsx(j,{list:i,highlightNodes:r.highlightNodes,pointers:r.pointers})},l))}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[e.jsx("h4",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Min Heap"}),e.jsxs("div",{className:"flex gap-4 flex-wrap",children:[(r.heapSnapshot||[]).map((i,l)=>e.jsx("div",{className:"px-4 py-2 bg-yellow-100 border border-yellow-400 text-yellow-800 rounded-lg shadow",children:i},l)),(!r.heapSnapshot||r.heapSnapshot.length===0)&&e.jsx("p",{className:"text-gray-500",children:"Heap is empty."})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h5",{className:"text-lg font-medium",children:"Result"}),e.jsx(j,{list:r.resultHead,highlightNodes:r.highlightNodes,pointers:r.pointers})]})]})]})})};export{E as default};
